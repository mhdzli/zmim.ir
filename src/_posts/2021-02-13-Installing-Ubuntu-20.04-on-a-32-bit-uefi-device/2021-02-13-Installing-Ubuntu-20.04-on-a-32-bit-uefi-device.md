---
title: نصب Ubuntu 20.04 روی تبلت Lenovo Thinkpad 10
date: 2021-02-13 10:20:00 +03:30
tags: [foss, ubuntu, touch]
description: بوت کردن یک دستگاه با UEFI ۳۲ بیتی از USB
image:
mastodon:
  host: mas.to
  username: mz
  id: 105723338614674634
---

# آنچه گذشت


یکی از دوستان من یک تبلت Lenovo Thinkpad 10 دارد و چون دوست داشت روی آن گنو/لینوکس نصب کند، از من خواست تا کمکش کنم. من هم برایم جالب بود که ببینم محیط‌های دسکتاپ مختلف چقدر برای استفاده با صفحه‌های لمسی سازگار هستند.

برای اینکه هر بار که می‌خواهید یک فایل ISO را بوت کنید، مجبور نباشید یک USB drive را فرمت کنید می‌توانید از [ventoy](https://github.com/ventoy/Ventoy){:target="_blank"}{:rel="noopener noreferrer"} استفاده کنید.

بعد از اینکه گزینه‌های مختلف را تست کردیم، تصمیم گرفتیم که Ubuntu را نصب کنیم. از آنجا که برای اولین بار بود که دوست من می‌خواست از گنو/لینوکس استفاده کند، قرار شد که پله پله جلو برویم و در هر بخش من روال کار را توضیح بدهم. اما در همان آغاز، کار گره خورد. چند باری با استفاده از `Rufus`  از فایل `ISO` یک USB drive ساختم که بتوانم با بوت کردن سیستم از روی آن مراحل نصب را پی بگیرم. هر چند که در تنظیمات `BIOS` (با گرفتن همزمان دکمه خاموش و روشن کردن دستگاه و افزایش صدا می‌توانید به تنظیمات `BIOS` دسترسی پیدا کنید و تنظیمات بوت را تغییر دهید.) اولویت را به `USB` داده بودم و `Secure Boot` و `Fast Boot` را غیر فعال کرده بودم اما سیستم باز هم از روی هارد بوت می‌شد و `USB drive`  را به عنوان `bootable` نمی‌شناخت.

یک بار هم به شیوه آشنا، با استفاده از `dd` فایل `ISO` را روی `USB` ریختم ولی باز هم با اینکه به راحتی روی لپ‌تاپ بوت می‌شد اما روی تبلت مشکل داشت.

<div class="code-block">
{% highlight bash %}
dd if=<PATH-TO-A-LIVE-ISO> of=/dev/sdx status="progress"
{% endhighlight %}
</div>

که در اینجا `sdx`، بلاک مربوط به `USB drive` شماست که می‌توانید با استفاده از `lsblk` آن را بیابید.

با کمی جستجو و دیدن مشخصات تبلت متوجه شدم که این سیستم از ‪`UEFI`‬ سی و دو بیتی استفاده می‌کند و دلیل بوت نشدن `USB` هم همین است.

# چه باید کرد؟

پاسخ ساده است

- `USB drive` را `fat32` فرمت کنید.
- محتوای فایل `ISO` را روی آن به صورت دستی کپی کنید.

برای `mount` کردن یک فایل `ISO` در گنو/لینوکس می‌توانید از دستور زیر استفاده کنید:
<div class="code-block">
{% highlight bash %}
sudo mount -o loop <PATH-TO-A-LIVE-ISO> <PATH-TO-THE-FOLDER-YOU-WANT-TO-MOUNT-THE-ISO
{% endhighlight %}
</div>

- فایل [`bootia32.efi`](https://github.com/hirotakaster/baytail-bootia32.efi){:target="_blank"}{:rel="noopener noreferrer"} را از ریپوزیتوری گیتهاب یا از [اینجا](bootia32.efi) دانلود کنید و در پوشه `/EFI/BOOT` کپی کنید.
- فایل `grub.cfg` را از پوشه `/boot/grub` کپی کنید و در پوشه ریشه `USB` بریزید(`/`).
- `Fast Boot` و `Secure Boot` را غیرفعال کنید و سیستم را از `USB` بوت کنید.

